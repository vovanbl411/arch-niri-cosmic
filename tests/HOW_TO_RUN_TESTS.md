# Как запускать тесты для PKGS-ARCH

Этот документ описывает, как запускать тесты для модульной системы установки PKGS-ARCH.

## Структура тестов

- `unit/` - unit-тесты для отдельных модулей
- `integration/` - интеграционные тесты для проверки взаимодействия модулей
- `scripts/` - тесты, которые были перенесены из корня проекта (их оригинальные версии)

## Запуск всех тестов

Для запуска всех тестов используйте скрипт:

```bash
./tests/run-all-tests.sh
```

Этот скрипт запускает:
- Unit-тесты для модуля config
- Интеграционные тесты полного потока
- Проверку синтаксиса тестов из директории scripts

## Запуск отдельных тестов

### Unit-тесты

```bash
./tests/unit/test-config-module.sh
```

### Интеграционные тесты

```bash
./tests/integration/test-full-install-flow.sh
```

### Тесты из директории scripts

Тесты в директории `scripts/` были перенесены из корня проекта и используют относительные пути к модулям.
Поэтому они запускаются из корня проекта с помощью следующей команды:

```bash
# Из корня проекта
cd /path/to/project/root
./tests/scripts/test-modules.sh
./tests/scripts/test-install-functionality.sh
./tests/scripts/test-script-usage.sh
./tests/scripts/test-logic-only.sh
```

## Написание новых тестов

### Unit-тесты

Unit-тесты должны находиться в директории `tests/unit/` и проверять отдельные функции модулей.

### Интеграционные тесты

Интеграционные тесты должны находиться в директории `tests/integration/` и проверять взаимодействие между модулями.

## Статус тестов

Все тесты в проекте должны проходить успешно. Если какой-либо тест не проходит, это может указывать на:
- Проблемы в функциональности
- Изменения в API модулей
- Неправильную работу системы тестирования