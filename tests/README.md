# Тесты для PKGS-ARCH

В этой директории находятся тесты для проверки работоспособности модульной системы установки PKGS-ARCH.

## Структура директории

- `unit/` - модульные тесты для отдельных компонентов
- `integration/` - интеграционные тесты для проверки взаимодействия модулей
- `scripts/` - вспомогательные скрипты для запуска тестов

## Доступные тесты

### 1. `test-modules.sh`
**Расположение:** `tests/scripts/test-modules.sh`

**Назначение:** Проверка загрузки и работоспособности всех модулей системы.

**Что тестирует:**
- Загрузку всех модулей
- Доступность функций в каждом модуле
- Синтаксическую корректность скриптов
- Наличие всех необходимых файлов

**Запуск:**
```bash
chmod +x tests/scripts/test-modules.sh
./tests/scripts/test-modules.sh
```

### 2. `test-install-functionality.sh`
**Расположение:** `tests/scripts/test-install-functionality.sh`

**Назначение:** Проверка функциональности установки и основных функций модулей.

**Что тестирует:**
- Работу основных функций установки
- Валидацию файлов и категорий
- Функции логирования
- Функции рабочего стола
- Проверку AUR helper

**Запуск:**
```bash
chmod +x tests/scripts/test-install-functionality.sh
./tests/scripts/test-install-functionality.sh
```

### 3. `test-script-usage.sh`
**Расположение:** `tests/scripts/test-script-usage.sh`

**Назначение:** Проверка использования основного скрипта установки и парсинга аргументов.

**Что тестирует:**
- Загрузку всех модулей
- Работу парсера аргументов
- Правильность обработки команд
- Синтаксическую корректность основного скрипта

**Запуск:**
```bash
chmod +x tests/scripts/test-script-usage.sh
./tests/scripts/test-script-usage.sh
```
### 4. `test-logic-only.sh`
**Расположение:** `tests/scripts/test-logic-only.sh`

**Назначение:** Проверка логики установки без фактической установки пакетов.


**Что тестирует:**
- Порядок установки категорий
- Валидацию файлов
- Функции рабочего стола
- Логику исключения конфликтующих пакетов
- Доступность AUR helper

**Запуск:**
```bash
chmod +x tests/scripts/test-logic-only.sh
./tests/scripts/test-logic-only.sh
```

## Запуск всех тестов

Для запуска всех тестов используйте следующий скрипт:

```bash
./tests/scripts/test-modules.sh
./tests/scripts/test-install-functionality.sh
./tests/scripts/test-script-usage.sh
./tests/scripts/test-logic-only.sh
```

## Сводный отчет

Подробный отчет о тестировании доступен в файле `TESTING_SUMMARY.md` в корне проекта.

## Примечания

- Все тесты выполняются в безопасном режиме без фактической установки пакетов
- Тесты не изменяют систему пользователя
- Рекомендуется запускать тесты перед внесением изменений в код