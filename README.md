# PKGS-ARCH

Коллекция списков пакетов Arch Linux для автоматизации установки новой системы.

## Описание

Этот проект содержит организованные списки пакетов Arch Linux, разделенные по категориям. Это позволяет легко устанавливать предопределенные наборы пакетов при настройке новой системы.

## Структура проекта

- `core/` - базовые системные пакеты
  - `base.txt` - базовая система и среда рабочего стола
  - `system.txt` - системные пакеты (ядра, драйвера, загрузчик)
  - `network.txt` - сетевые пакеты и службы
- `desktop/` - пакеты рабочего стола и приложений
  - `apps.txt` - пользовательские приложения
  - `audio-video.txt` - аудио/видео пакеты
  - `greeter.txt` - средства входа в систему
  - `niri.txt` - пакеты для среды рабочего стола Niri
- `aur/` - пакеты из AUR
  - `aur.txt` - пакеты из репозитория AUR
  - `cosmic.txt` - пакеты для среды рабочего стола COSMIC (в AUR)
- `development/` - утилиты для разработки
  - `utils.txt` - утилиты командной строки и инструменты разработки
- `fonts-themes/` - шрифты и темы оформления
  - `fonts.txt` - шрифты и темы оформления
- `hardware/` - драйверы и прошивки
  - `drivers.txt` - драйверы оборудования
- `virtualization/` - пакеты виртуализации
  - `virt.txt` - пакеты для виртуализации
- `scripts/` - скрипты установки и утилиты
  - `install.sh` - основной скрипт установки
  - `distribution-installer.sh` - скрипт установки полноценного дистрибутива
  - `modules/` - модули для установки
    - `config.sh` - модуль конфигурации
    - `logging.sh` - модуль логирования
    - `package-manager.sh` - модуль управления пакетами
    - `installer.sh` - основной модуль установки
    - `validator.sh` - модуль проверки и валидации
    - `desktop-manager.sh` - модуль управления рабочими столами
    - `aur-handler.sh` - модуль работы с AUR
  - `helpers/` - вспомогательные утилиты
    - `arg-parser.sh` - парсер аргументов командной строки
    - `file-utils.sh` - утилиты работы с файлами
  - `distributions/` - скрипты для дистрибутива
    - `base/` - базовые скрипты дистрибутива
      - `pre-install.sh` - предустановочные действия
      - `post-install.sh` - постустановочные действия
      - `finalize.sh` - финализация установки


## Использование

### Установка пакетов

Для установки пакетов из конкретной категории используйте команду:

```bash
sudo pacman -S - < путь/к/файлу.txt
```

Для установки пакетов из AUR (с использованием yay):

```bash
yay -S - < aur/aur.txt
```

Для автоматической установки AUR пакетов используйте предоставленный скрипт:

```bash
# Сделать скрипт исполняемым
chmod +x ./scripts/install.sh

# Установка AUR пакетов (без sudo)
./scripts/install.sh aur

# Установка всех пакетов с AUR (с sudo)
sudo ./scripts/install.sh all_with_aur

### Важное замечание о запуске от root

При запуске скрипта с правами root (с помощью `sudo`), для установки пакетов из AUR автоматически происходит переключение на обычного пользователя. Это необходимо, поскольку установка пакетов из AUR с правами root может привести к проблемам безопасности и конфликту с AUR helper-ами (yay, paru).
```

### Скрипт установки

Для автоматической установки всех пакетов используйте предоставленный скрипт:

```bash
./scripts/install.sh all
```

Для установки полноценного дистрибутива используйте:

```bash
./scripts/distribution-installer.sh
```

### Интерактивная установка

При установке всех пакетов с помощью команды `./scripts/install.sh all` или `sudo ./scripts/install.sh all_with_aur` появляется возможность интерактивного выбора среды рабочего стола:

- **niri** - установит пакеты из `desktop/niri.txt`, исключая пакеты COSMIC из AUR
- **cosmic** - установит пакеты из `aur/cosmic.txt`, исключая пакеты niri из установки
- **обе среды** - установит пакеты для обеих сред
- **пропустить** - пропустит установку специфичных пакетов сред

При выборе конкретной среды рабочего стола, пакеты противоположной среды будут автоматически исключены из установки для предотвращения конфликтов.

## Модульная архитектура

Проект использует модульную архитектуру для упрощения сопровождения и расширения функциональности:

- **Модули** (`scripts/modules/`) - основные компоненты системы установки
- **Помощники** (`scripts/helpers/`) - вспомогательные утилиты
- **Дистрибутивы** (`scripts/distributions/`) - скрипты для создания полноценного дистрибутива

## Вклад в проект

Если вы хотите добавить пакеты или улучшить список, пожалуйста:

1. Сделайте форк репозитория
2. Создайте новую ветку: `git checkout -b feature/новое-изменение`
3. Добавьте изменения в соответствующие файлы
4. Зафиксируйте изменения: `git commit -m 'Добавил новые пакеты'`
5. Отправьте ветку: `git push origin feature/новое-изменение`
6. Создайте Pull Request

## Лицензия

Этот проект распространяется по лицензии MIT.